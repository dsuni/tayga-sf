.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.38.2.
.TH TAYGA 8 "December 27, 2010" 
.SH NAME
tayga \- out-of-kernel stateless NAT64 implementation for Linux
.SH SYNOPSIS
.B tayga
[\fI-c|--config CONFIGFILE\fR] [\fI-d\fR] [\fI-n\fR|\fI--nodetach\fR] [\fI-u\fR|\fI--user USERID\fR] [\fI\-g\fR|\fI\-\-group GROUPID\fR] [\fI\-r\fR|\fI\-\-chroot\fR]
.SH DESCRIPTION
TAYGA is an out-of-kernel stateless NAT64 implementation for Linux that uses
the TUN driver to exchange IPv4 and IPv6 packets with the kernel. It is
intended to provide production-quality NAT64 service for networks where
dedicated NAT64 hardware would be overkill. TAYGA needs no kernel patches
or out-of-tree modules, and it is compatible with all 2.4 and 2.6 kernels.
.PP
TAYGA maps IPv4 addresses into the IPv6 network according to RFC 6052.  This
states that a 32-bit IPv4 address should be appended to a designated IPv6
prefix, which we call the NAT64 prefix, and the resulting IPv6 address can be
used to contact the IPv4 host through the NAT64.
.PP
The NAT64 prefix should be assigned out of a site's global IPv6 address
allocation.  For example, if a site is allocated 2001:db8:1::/48, the prefix
2001:db8:1:ffff::/96 could be set aside for NAT64.  (There are several options
for the length of the NAT64 prefix, but a /96 is recommended.)  The IPv4 host
198.51.100.10 could then be accessed through the NAT64 using the address
2001:db8:1:ffff::c633:640a.  Conveniently, it is possible to use the syntax
2001:db8:1:ffff::198.51.100.10 instead.
.PP
TAYGA requires that a unique IPv4 address is assigned to every IPv6 host
that needs NAT64 service. The assignment can be done automatically by TAYGA, or
statically by the system administrator.
.PP
TAYGA also supports the addressing architecture described in RFC 6052.
.PP
.SH OPTIONS
This program follows the usual GNU command line syntax, with long
options starting with two dashes (`\-').
A summary of options is included below.
.TP
\fB\-\-config\fR \fIFILE\fR
Read configuration options from \fIFILE\fR
.TP
\fB\-d\fR
Enable debug messages (implies \fB\-\-nodetach\fR)
.TP
\fB\-\-nodetach\fR
Do not detach from terminal
.TP
\fB\-\-user\fR \fIUSERID\fR
Set uid to \fIUSERID\fR after initialization
.TP
\fB\-\-group\fR \fIGROUPID\fR
Set gid to \fIGROUPID\fR after initialization
.TP
\fB\-\-chroot\fR
chroot() to data\-dir (specified in config file)
.PP
.SH CONFIGURATION FILE
TAYGA is driven by a configuration file, located at /etc/tayga.conf usually.
.PP
The configuration file has simple key-value structure. The following options are recognized:
.TP
\fBtun-device\fR
TUN device that TAYGA will use to exchange IPv4 and IPv6 packets with the
kernel.  You may use any name you like, but `nat64' is recommended. Mandatory.
.TP
\fBipv4-addr\fR
TAYGA's IPv4 address.  This is NOT your router's IPv4 address!  TAYGA
requires its own address because it acts as an IPv4 and IPv6 router. Mandatory.
.TP
\fBipv6-addr\fR
TAYGA's IPv6 address.  This is NOT your router's IPv6 address!  TAYGA
requires its own address because it acts as an IPv4 and IPv6 router.
You can leave ipv6-addr unspecified and TAYGA will construct its IPv6
address using ipv4-addr and the NAT64 prefix.
Optional if the NAT64 prefix is specified, otherwise mandatory.
It is also mandatory if the NAT64 prefix is 64:ff9b::/96 and ipv4-addr
is a private (RFC1918) address.
.TP
\fBprefix\fR
The NAT64 prefix.  The IPv4 address space is mapped into the IPv6 address
space by prepending this prefix to the IPv4 address.  Using a /96 prefix is
recommended in most situations, but all lengths specified in RFC 6052 are
supported. This must be a prefix selected from your organization's IPv6 address space
or the Well-Known Prefix 64:ff9b::/96. Note that using the Well-Known
Prefix will prohibit IPv6 hosts from contacting IPv4 hosts that have private
(RFC1918) addresses, per RFC 6052. Optional.
.TP
\fBdynamic-pool\fR
Dynamic pool prefix.  IPv6 hosts which send traffic through TAYGA (and do
not correspond to a static map or an IPv4-translatable address in the NAT64
prefix) will be assigned an IPv4 address from the dynamic pool. Dynamic
maps are valid for 124 minutes after the last matching packet is seen.
If no unassigned addresses remain in the dynamic pool (or no dynamic pool is
configured), packets from unknown IPv6 hosts will be rejected with an ICMP
unreachable error. Optional.
.TP
\fBdata-dir\fR
Persistent data storage directory.  The dynamic.map file, which saves the
dynamic maps that are created from dynamic-pool, is stored in this
directory.  Omit if you do not need these maps to be persistent between
instances of TAYGA. Optional.
.TP
\fBmap\fR
Establishes a single-host map.  If an IPv6 host should be consistently
reachable at a specific IPv4 address, the mapping can be specified in a
`map' directive.  (IPv6 hosts numbered with an IPv4-translatable address do
not need map directives.)
IPv4 addresses specified in the `map' directive can safely be located inside
the dynamic-pool prefix. Optional.
.SH CONFIGURATION FILE EXAMPLE
.in +4n
.br
tun-device nat64
.br
ipv4-addr 192.168.255.1
.br
prefix 2001:db8:1:ffff::/96
.br
dynamic-pool 192.168.255.0/24
.br
data-dir /var/spool/tayga
.in
.SH AUTHOR
TAYGA was written by Nathan Lutchansky <lutchann@litech.org>.
.PP
Send comments, bug reports and patches to this address.
.PP
This manual page was written by Andrew O. Shadoura <bugzilla@tut.by> using
the original README file, for the Debian project (but may be used by others).
.PP
Permission is granted to copy, distribute and/or modify this document under the
terms of the GNU General Public License as published by the Free Software
Foundation, under version 2 of the License, or, at your option, any later version.

